---
const { imageSource, projectTitle, projectId } = Astro.props;
---

<div class="project-card">
  <a
    href={`/projects/${projectId}`}
    style={{ backgroundImage: `url(${imageSource})` }}
  >
    <div class="project-card--title">{projectTitle}</div>
  </a>
</div>

<style lang="scss">
  img {
    max-width: 100%;
  }

  .project-card {
    position: relative;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    transition: all 0.15s ease-in-out;

    a {
      display: block;
      color: white;
      text-decoration: none;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      z-index: 10;
      transition: all 0.15s ease-in-out;
      &::before {
        content: "";
        width: 100%;
        height: 100%;
        background: linear-gradient(var(--primary-background), transparent);
        position: absolute;
        left: 0;
        top: 0;
        z-index: 1;
        transition: all 0.15s ease-in-out;
      }

      &:hover {
        .project-card--title {
          top: 50%;
          left: 50%;
          bottom: unset;
          transform: translate(-50%, -50%);
          font-size: 2em;
        }

        &::before {
          background: linear-gradient(
            var(--primary-background),
            var(--primary-background)
          );
          opacity: 75%;
        }
      }
    }

    &--title {
      position: absolute;
      left: 50%;
      top: 20px;
      transform: translateX(-50%);
      z-index: 10;
      font-size: 1.5em;
      font-weight: bold;
      transition: all 0.15s ease-in-out;
      text-align: center;
    }

    &:hover:before {
      opacity: 90%;
    }
  }
</style>
